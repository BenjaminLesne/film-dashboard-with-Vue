import{d as R,o as d,c as _,a as x,b as u,e as n,t as w,n as H,u as m,p,f as g,r as S,F as f,g as F,h as B,i as P,j as z,k as I,w as y,l as M,m as T,q as D,s as N}from"./vendor.0e6d0150.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};V();const $=R({id:"movies",state:()=>({trendingMovies:[],popular:[],favorite:{moviesId:[],movies:[]},action:[],animation:[],adventure:[],comedy:[],documentary:[]}),actions:{handleFavorite(e){if(this.favorite.moviesId.includes(e.id)){const t=this.favorite.movies.indexOf(e);this.favorite.movies=[...this.favorite.movies.slice(0,t),...this.favorite.movies.slice(t+1,this.favorite.movies.length)],this.favorite.moviesId=[...this.favorite.moviesId.slice(0,t),...this.favorite.moviesId.slice(t+1,this.favorite.moviesId.length)]}else this.favorite.movies=[...this.favorite.movies,e],this.favorite.moviesId=[...this.favorite.moviesId,e.id]},async addToTrending(e){try{this.trendingMovies=[...this.trendingMovies,...e]}catch(t){console.log(t)}},addToMovies(e,t){this[t]=[...this[t],...e]}},getters:{getMovies:e=>e.movies.map(t=>t)}});var h=(e,t)=>{const a=e.__vccOpts||e;for(const[i,s]of t)a[i]=s;return a};const j={props:{isLoading:Boolean}},q={key:0,class:"LoadingScreen"};function K(e,t,a,i,s,o){return this.isLoading?(d(),_("div",q)):x("",!0)}var b=h(j,[["render",K],["__scopeId","data-v-39517534"]]);const E=e=>(p("data-v-786d6316"),e=e(),g(),e),G={class:"MyCard"},U={class:"MyCard__rating MyCard__flag"},W=E(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[n("path",{d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"})],-1)),J=[W],Q={class:"MyCard__main-content"},X=["src","alt"],Y={class:"MyCard__title"},Z={props:{favorite:Boolean,movie:Object},components:{LoadingScreen:b},data(){return{isLoading:!0}}},ee=Object.assign(Z,{setup(e){const t=$(),{handleFavorite:a}=t;return(i,s)=>(d(),_("article",G,[u(b,{isLoading:this.isLoading},null,8,["isLoading"]),n("div",U,w(this.movie.vote_average),1),n("div",{class:H(["MyCard__favorite MyCard__flag",{active:this.favorite}]),onClick:s[0]||(s[0]=o=>m(a)(this.movie))},J,2),n("figure",Q,[n("img",{class:"MyCard__img",src:"https://image.tmdb.org/t/p/original/"+e.movie.poster_path,alt:this.movie.title,onLoad:s[1]||(s[1]=o=>this.isLoading=!1)},null,40,X),n("figcaption",Y,w(this.movie.title),1)])]))}});var k=h(ee,[["__scopeId","data-v-786d6316"]]),O={apiKey:"0cacad916107fa7b554018dabb1eaab4"};function L(e,t,a){a=a!=null?a:[];const i=Math.floor(Math.random()*t);if(a.includes(i))return L(e,t,a);const s=[...a,i],o=e-1;return o===0?s:L(o,t,s)}const te=e=>(p("data-v-a58d8478"),e=e(),g(),e),se={class:"HomePageContent"},oe={class:"trend-section"},ie=te(()=>n("h2",{class:"trend-section__heading section-heading"},"Films du moment",-1)),ae={class:"trend-section__movies-wrapper"},ne={setup(e){const t=$(),{addToTrending:a}=t;let i=S([]);t.trendingMovies.length===0?fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${O.apiKey}`).then(o=>o.json()).then(o=>{a(o.results)}).then(()=>{s()}):s();function s(){const o=L(4,t.trendingMovies.length);i.value=o.map(r=>t.trendingMovies[r])}return(o,r)=>(d(),_("main",se,[n("section",oe,[ie,n("ul",ae,[(d(!0),_(f,null,F(m(i),c=>(d(),_("li",{class:"trend-section__movie",key:c.id},[u(k,{movie:c,favorite:m(t).favorite.moviesId.includes(c.id)},null,8,["movie","favorite"])]))),128))])])]))}};var re=h(ne,[["__scopeId","data-v-a58d8478"]]);async function ce(e){document.querySelector(".active").classList.remove("active"),e.classList.add("active")}function le(e){switch(e){case"":return"popular";case"28":return"action";case"16":return"animation";case"12":return"adventure";case"35":return"comedy";case"99":return"documentary";default:console.log("error occured, default case got triggered here is the id received as argument:"),console.log(e)}}function de(e){var t,a,i,s,o,r,c,v,l;return((t=e.title)==null?void 0:t.toLowerCase().includes("porn"))||((a=e.title)==null?void 0:a.toLowerCase().includes("sexe"))||((i=e.title)==null?void 0:i.toLowerCase().includes("xxx"))||((s=e.original_title)==null?void 0:s.toLowerCase().includes("porn"))||((o=e.original_title)==null?void 0:o.toLowerCase().includes("sexe"))||((r=e.original_title)==null?void 0:r.toLowerCase().includes("xxx"))||((c=e.overview)==null?void 0:c.toLowerCase().includes("porn"))||((v=e.overview)==null?void 0:v.toLowerCase().includes("sexe"))||((l=e.overview)==null?void 0:l.toLowerCase().includes("xxx"))}async function _e(e){const t=`https://api.themoviedb.org/3/discover/movie?api_key=${O.apiKey}&language=fr&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&certification_country=FR&certification.lte=PG`,a=e===""?"":`&with_genres=${e}`,i=t+a;return fetch(i).then(o=>o.json()).then(o=>{const r=le(e),c=o.results.filter(v=>de(v)===!1);return{whereToAddTheData:r,data:c}})}const ve=e=>(p("data-v-53a3ad43"),e=e(),g(),e),ue={class:"ListsOfFilmsContent"},he={class:"ListsOfFilms__section"},me=ve(()=>n("h2",{class:"ListsOfFilms__heading section-heading"},"Listes de films",-1)),fe={class:"Films-showcase"},pe={class:"Films-showcase__filters-wrapper"},ge=["data-filter-id"],ye={class:"Films-showcase__films"},we={key:0,class:"Films-showcase__no-film"},Fe={setup(e){const t=$(),{addToMovies:a}=t,i=S(t.popular),s=[{FR:"Populaire",id:""},{FR:"Favoris",id:"favorite"},{FR:"Action",id:28},{FR:"Animation",id:16},{FR:"Aventure",id:12},{FR:"Com\xE9die",id:35},{FR:"Documentaire",id:99}];function o(){const c=document.querySelector(".active").dataset.filterId;c==="favorite"?i.value=t.favorite.movies:_e(c).then(v=>{const{whereToAddTheData:l}=v,A=v.data;return a(A,l),l}).then(v=>i.value=t[v])}B(()=>{document.querySelector(".Films-showcase__filter").classList.add("active"),i.value.length===0&&o()});function r(c){ce(c.target).then(()=>{i.value=[],o()})}return(c,v)=>(d(),_("main",ue,[n("section",he,[me,n("div",fe,[n("ul",pe,[(d(),_(f,null,F(s,l=>n("li",{class:"Films-showcase__filter",key:l+s.indexOf(l),onClick:r,"data-filter-id":l.id},w(l.FR),9,ge)),64))]),n("ul",ye,[i.value.length<1?(d(),_("li",we," Oh, il n'y a pas de film :( ")):x("",!0),(d(!0),_(f,null,F(i.value,l=>(d(),_("li",{class:"Films-showcase__film",key:l.id},[u(k,{movie:l,favorite:m(t).favorite.moviesId.includes(l.id)},null,8,["movie","favorite"])]))),128))])])])]))}};var Le=h(Fe,[["__scopeId","data-v-53a3ad43"]]);const $e=[{path:"/le-collectionist-test/",component:re,name:"home"},{path:"/le-collectionist-test/liste",component:Le,name:"list"}],Ce=P({history:z(),routes:$e});const Me={computed:{isThisHomePage(){return this.$route.name==="home"}}},xe=e=>(p("data-v-18abf3f7"),e=e(),g(),e),Se={class:"MyHeader"},Ie=xe(()=>n("svg",{class:"MyHeader__company-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 276.742"},[n("path",{d:"M140.803 258.904c-15.404 2.705-31.079 3.516-47.294 5.676l-49.458-144.856v151.073c-15.404 1.621-29.457 3.783-44.051 5.945v-276.742h41.08l56.212 157.021v-157.021h43.511v258.904zm85.131-157.558c16.757 0 42.431-.811 57.835-.811v43.24c-19.189 0-41.619 0-57.835.811v64.322c25.405-1.621 50.809-3.785 76.482-4.596v41.617l-119.724 9.461v-255.39h119.724v43.241h-76.482v58.105zm237.284-58.104h-44.862v198.908c-14.594 0-29.188 0-43.239.539v-199.447h-44.862v-43.242h132.965l-.002 43.242zm70.266 55.132h59.187v43.24h-59.187v98.104h-42.433v-239.718h120.808v43.241h-78.375v55.133zm148.641 103.507c24.594.539 49.456 2.434 73.51 3.783v42.701c-38.646-2.434-77.293-4.863-116.75-5.676v-242.689h43.24v201.881zm109.994 49.457c13.783.812 28.377 1.623 42.43 3.242v-254.58h-42.43v251.338zm231.881-251.338l-54.863 131.615 54.863 145.127c-16.217-2.162-32.432-5.135-48.648-7.838l-31.078-79.994-31.617 73.51c-15.678-2.705-30.812-3.516-46.484-5.678l55.672-126.75-50.269-129.992h46.482l28.377 72.699 30.27-72.699h47.295z"})],-1)),Te={class:"MyHeader__main-navigation"},be=T("Listes de films"),ke=T("Accueil");function Oe(e,t,a,i,s,o){const r=I("router-link");return d(),_("header",Se,[u(r,{to:"/le-collectionist-test/",class:"MyHeader__home-link"},{default:y(()=>[Ie]),_:1}),n("nav",Te,[o.isThisHomePage?(d(),M(r,{key:0,to:"/le-collectionist-test/liste"},{default:y(()=>[be]),_:1})):(d(),M(r,{key:1,to:"/le-collectionist-test/"},{default:y(()=>[ke]),_:1}))])])}var Ae=h(Me,[["render",Oe],["__scopeId","data-v-18abf3f7"]]);const Re={setup(e){return(t,a)=>{const i=I("router-view");return d(),_(f,null,[u(Ae),u(i)],64)}}},C=D(Re);C.use(N());C.use(Ce);C.mount("#app");
